$("._tab").click(function() {
    let parentBlock = $(this).parents("._tabs-parent")
    let tabId = $(this).attr("data-tab")
    $(parentBlock).find("._tab").removeClass("_active")
    $(this).addClass("_active")
    $(parentBlock).find(".tab-content").removeClass("_active")
    $(parentBlock).find(`.${tabId}`).addClass("_active")
    // setActiveColor($(".character-color._active"))
})
$(".character-color").click(function() {
    setActiveColor($(this))
})

function setActiveColor(el){
    let parentBlock = $(el).parents("._tabs-parent")
    let tabId = $(el).attr("data-color")
    $(el).siblings(".character-color").removeClass("_active")
    $(el).addClass("_active")
    $(parentBlock).find(".tab-content._active .color-tab-content").removeClass("_active")
    $(parentBlock).find(`.${tabId}`).addClass("_active")
}

$(".qa-card__show").click(function() {
    $(this).parents(".qa-card").toggleClass("_active")
    $(this).siblings(".qa-card__hidden").slideToggle()
})

$(".footer-nav__show").click(function() {
    $(this).parents(".footer-nav").toggleClass("_open")
    $(this).siblings(".footer-nav__hidden").slideToggle()
})

$(".prop-item__top").click(function() {
    if(window.innerWidth>576){
        return
    }
    $(this).parents(".prop-item").toggleClass("_open")
    $(this).siblings(".prop-item__bottom").slideToggle()
})

$(".dealer-item__show").click(function() {
    $(this).parents(".dealer-item").addClass("_active")
    $(".dealers__items").addClass("_open")
})

$(".dealer-item__back").click(function() {
    $(".dealer-item").removeClass("_active")
    $(".dealers__items").removeClass("_open")
})

let autoplayVideos = document.querySelectorAll('._autoplay-video')
autoplayVideos.forEach(video => {
    video.addEventListener('click',function(){
        video.play();
    },false);
    video.click();
    video.play();
})

$("._toggle-menu").click(function () {
    $(".header").toggleClass("_open")
    $("body").toggleClass("fixed-body")
})


function Sliders() {
    let SlidersArray = []

    let sliders = document.querySelectorAll(".slider")
    sliders.forEach((slider,index) => {
        slider.setAttribute("data-slider-id",index)

        let isNested = slider.classList.contains("_nested")
        let isNoSwipe = slider.classList.contains("_no-swipe")

        let pagination = {
            el: `.slider[data-slider-id="${index}"] .swiper-pagination`,
            type: 'bullets',
            clickable: true,
        }

        let navigation = {
            nextEl: `.slider[data-slider-id="${index}"] .swiper-button-next`,
            prevEl: `.slider[data-slider-id="${index}"] .swiper-button-prev`,
        }

        if(isNoSwipe){
            navigation = {}
        }

        if(isNested){
            navigation = {}
        }

        let isNumPag = false

        if(slider.classList.contains("_pag-num")){
            isNumPag = true
            pagination.type = "custom"
            pagination.renderBullet = function (index, className) {
                return `<span class="${className}">${index + 1}</span>`;
            }
        }

        SlidersArray[index] = new Swiper(`.slider[data-slider-id="${index}"] .swiper-container`, {
            slidesPerView: "auto",
            spaceBetween: 0,
            watchSlidesProgress: true,
            preventClicks :true,
            a11y: false,
            observer: true,
            observeParents: true,
            observeSlideChildren: true,
            nested: isNested,
            allowTouchMove: !isNoSwipe,
            navigation: navigation,
            pagination: {
                el: `.slider[data-slider-id="${index}"] .swiper-pagination`,
                type: 'bullets',
                clickable: true,
                renderBullet: isNumPag ? function (index, className) {
                    return `<span class="${className}">${index + 1}</span>`;
                } : ''
            },
        })

        if(slider.classList.contains("adventurer-slider")){
            document.querySelector('.swiper-button-prev').addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                SlidersArray[index][0].slidePrev();
            });

            document.querySelector('.swiper-button-next').addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                SlidersArray[index][0].slideNext();
            });
        }
    })
}

function gallery() {
    let SlidersArray = []

    let sliders = document.querySelectorAll(".gallery")
    sliders.forEach((slider,index) => {
        slider.setAttribute("data-slider-id",index)
        let gallery = {
            mySwiper: {},
            mySwiper2: {}
        }

        gallery.mySwiper = new Swiper(`.gallery[data-slider-id="${index}"] .mySwiper`, {
            spaceBetween: 0,
            slidesPerView: "auto",
            freeMode: true,
            watchSlidesProgress: true,
            direction: "vertical",
            breakpoints: {
                320: {
                    direction: "horizontal",
                },
                992: {
                    direction: "vertical",
                }
            }
        });
        gallery.mySwiper2 = new Swiper(`.gallery[data-slider-id="${index}"] .mySwiper2`, {
            spaceBetween: 0,
            direction: "vertical",
            loop: true,
            navigation: {
                nextEl: `.gallery[data-slider-id="${index}"] .swiper-button-next`,
                prevEl: `.gallery[data-slider-id="${index}"] .swiper-button-prev`,
            },
            thumbs: {
                swiper:  gallery.mySwiper,
            },
            breakpoints: {
                320: {
                    direction: "horizontal",
                },
                992: {
                    direction: "vertical",
                }
            }
        });

        SlidersArray[index] = gallery
    })

}


Sliders()
gallery()

$("input[name='outsideColor']").change(function () {
    let value = $(this).attr("data-value")
    $("._js-color-output").html(value)
})
$("input[name='insideColor']").change(function () {
    let value = $(this).attr("data-value")
    $("._js-color-output2").html(value)
})

$(".city-select__current").html($(".city-select__item input:checked").attr("data-value"))

$(".city-select__item input").change(function () {
    $(".city-select__current").html($(this).attr("data-value"))
    $(".city-select").removeClass("_open")
})

$(".city-select__show").click(function () {
    $(".city-select").toggleClass("_open")
})

$(document).mouseup( function(e){
    let div = $( ".city-select" );
    if ( !div.is(e.target)
        && div.has(e.target).length === 0 ) {
        if($(div).hasClass("_open")){
            $(div).removeClass("_open")
        }
    }
});

let body = document.querySelector("body")
let modalTogglers = document.querySelectorAll("[data-modal]")
let modals = document.querySelectorAll(".modal")

modalTogglers.forEach(el => {
    el.onclick = function () {
        let modalId = el.getAttribute("data-modal")
        openModal(modalId)
    }
})

function closeModals() {
    modals.forEach(modal => {
        modal.classList.remove("_active")
        body.classList.remove("fixed-body2")
    })
}

function openModal(modalId) {
    closeModals()
    let modal = document.querySelector(`#${modalId}`)
    let closeButtons = modal.querySelectorAll(`._close-modal`)

    modal.classList.add("_active")
    body.classList.add("fixed-body2")


    closeButtons.forEach(btn => {
        btn.onclick = ()=> {
            modal.classList.remove("_active")
            body.classList.remove("fixed-body2")
        }
    })
}

var getScrollBarSize = (function() {
    var el = window.document.createElement('textarea'), style = {
        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',
        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',
        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'
    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;

    for (var key in style) {
        if (style.hasOwnProperty(key)) {
            el.style[key] = style[key];
        }
    }

    return function() {
        var size = null;
        if (support && window.document.body) {
            window.document.body.appendChild(el);
            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];
            window.document.body.removeChild(el);
        }

        document.documentElement.style.setProperty('--scrollWidth', `${size[0]}px`);
        return size;
    };
})();


window.addEventListener('DOMContentLoaded', () => {
    fix100vh();
    window.addEventListener('resize', () => {
        fix100vh();
        getScrollBarSize()
    })

    getScrollBarSize()

    // $('input[type="tel"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7 (   )    -  -  ' });
})

function fix100vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

//# sourceMappingURL=../sourcemaps/main.min.js.map
